<div align="center">

# Marketplace Price Tracker Bot

![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/vshulcz/marketplace_price_tracker?sort=semver)
[![CI](https://github.com/vshulcz/marketplace_price_tracker/actions/workflows/ci.yml/badge.svg)](../../actions)
[![codecov](https://codecov.io/gh/vshulcz/marketplace_price_tracker/branch/main/graph/badge.svg)](https://codecov.io/gh/vshulcz/marketplace_price_tracker)
![license](https://img.shields.io/badge/license-MIT-blue)
![python](https://img.shields.io/badge/python-3.11+-blue)
[![Telegram Demo](https://img.shields.io/badge/telegram-@mpricemonitoring__bot-2CA5E0?logo=telegram\&logoColor=white)](https://t.me/mpricemonitoring_bot)

–¢–µ–ª–µ–≥—Ä–∞–º‚Äë–±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ü–µ–Ω –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (Ozon –∏ Wildberries). –î–æ–±–∞–≤–ª—è–π—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä, –∑–∞–¥–∞–≤–∞–π—Ç–µ —Ü–µ–ª–µ–≤—É—é —Ü–µ–Ω—É - –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å –∏ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ —Å—Ç–∞–ª–∞ –≤—ã–≥–æ–¥–Ω–æ–π.

[–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–æ—Ç–∞](https://t.me/mpricemonitoring_bot) ‚Ä¢ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](docs/README.md)

</div>

---

> [üá¨üáß English version](README-en.md)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

```bash
git clone https://github.com/vshulcz/marketplace_price_tracker.git
cd marketplace_price_tracker

cp .env.example .env # —É–∫–∞–∂–∏—Ç–µ BOT_TOKEN –æ—Ç @BotFather

make up && make logs
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä" –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (Ozon –∏–ª–∏ Wildberries).
2. –ë–æ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É.
3. –í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–µ–≤—É—é —Ü–µ–Ω—É.
4. –ü—Ä–æ–¥—É–∫—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–¢–æ–≤–∞—Ä—ã". –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–µ–≤—É—é —Ü–µ–Ω—É, –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ç–æ–≤–∞—Ä—É –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥.
5. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ 09:00, 15:00 –∏ 21:00 (–ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞) –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–Ω—ã, —Å–æ—Ö—Ä–∞–Ω—è—è –∏—Å—Ç–æ—Ä–∏—é.
6. –ï—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω—å—à–µ —Ü–µ–ª–µ–≤–æ–≥–æ, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏.
7. –ï—Å–ª–∏ –ø–æ–∑–∂–µ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç —Å–Ω–æ–≤–∞ –±–æ–ª—å—à–µ —Ü–µ–ª–µ–≤–æ–≥–æ, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

* RU üá∑üá∫ –∏ EN üá¨üáß —Å–ª–æ–≤–∞—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ app/i18n.py.
* –í –±–æ—Ç–µ: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –≤—ã–±—Ä–∞—Ç—å —è–∑—ã–∫.

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ production

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é —Å K3s –∏ ArgoCD –¥–æ—Å—Ç—É–ø–Ω–æ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](docs/README.md):

- [üá¨üáß Deployment Guide](docs/DEPLOYMENT-en.md)
- [üá∑üá∫ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é](docs/DEPLOYMENT.md)

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –Ω–∞ —Å–≤–æ–π —Ä–∏—Å–∫: —Å–∫—Ä–∞–ø–∏–Ω–≥ –º–æ–∂–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞–º –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤.
* –ü—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö/—É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π.
* –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–µ–º–æ: **[@mpricemonitoring_bot](https://t.me/mpricemonitoring_bot)**

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

* –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç [Prometheus](https://prometheus.io/) –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∞–¥—Ä–µ—Å—É `http://<host>:8000/metrics` (–ø–æ—Ä—Ç –∏ —Ö–æ—Å—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `METRICS_HOST`/`METRICS_PORT`).
* –í Kubernetes —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç `Service` —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ `prometheus.io/*`, –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Prometheus Operator –∏–ª–∏ ServiceMonitor –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫.
* –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `METRICS_ENABLED=false`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥–∞/–∞–ª–µ—Ä—Ç–∏–Ω–≥–∞.
* –ü—Ä–∏ –¥–µ–ø–ª–æ–µ —á–µ—Ä–µ–∑ ArgoCD –±–æ—Ç –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏: `k8s/argocd/application-{dev,prod}.yaml` –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∞ `k8s/argocd/application-monitoring-{dev,prod}.yaml` - Prometheus/Grafana (CR –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤). –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –¥–æ—Å—Ç—É–ø–µ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´Prometheus + Grafana —á–µ—Ä–µ–∑ ArgoCD¬ª —Ñ–∞–π–ª–∞ `docs/DEPLOYMENT.md`.

## –ö–∞–∫ –ø–æ–º–æ—á—å

* PR –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ª–∏–Ω—Ç–µ—Ä—ã/—Ç–µ—Å—Ç—ã –∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–∫—Ä—ã—Ç–∏–µ.
* –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ ‚≠ê
